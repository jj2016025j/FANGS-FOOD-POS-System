<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>桌位點餐</title>
    <link rel="icon" href="/assets/image/Logo.png"/><!--webLOGO-->
    <!--導覽列及右側排版-->
    <link rel="stylesheet" href="/css/navbar-layout.css"> 
    <link rel="stylesheet" href="/css/tables_order.css">
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/assets/js/jQuery3.7.1.js"></script>
</head>
<body>
    <div class="page-wrapper">

        <!-- end of container -->
        <div class="form-layout">
            <div class="tab">
                <% categories.forEach(function(category, idx) { %>
                    <button class="tablinks <%= (idx == 0 ? 'defaultCateogry' : '') %>" onclick="openMenu('tab_category_<%= category.id %>')"><%= category.category %></button>
                <% }) %>                
                <!-- <button class="tablinks" onclick="openMenu('hotpot-page')">鍋類</button>
                <button class="tablinks" onclick="openMenu('meat-page')" id="defaultOpen" >肉類</button>
                <button class="tablinks" onclick="openMenu('seafood-page')">海鮮類</button>
                <button class="tablinks" onclick="openMenu('vegetable-page')">蔬菜類</button>
                <button class="tablinks" onclick="openMenu('dumplings-page')">火鍋餃類</button> -->
                <!-- <button id="open-order-btn">查看訂單</button> -->
            </div>
            
            
            <!-- Tab content -->
            <% categories.forEach(function(category, idx) { %>
                <div id="tab_category_<%= category.id %>" class="tabcontent">
                    <div class="row menu-page items">
    
                    </div>
                </div>
            <% }) %>
            <!-- <div id="hotpot-page" class="tabcontent">
                <div id="hotpot" class="row menu-page">

                </div>
            </div>

            <div id="meat-page" class="tabcontent">
                <div id="meat" class="row menu-page">

                </div>
            </div>
            
            <div id="seafood-page" class="tabcontent">
                <div id="seafood" class="row menu-page">

                </div>
            </div>
            
            <div id="vegetable-page" class="tabcontent">
                <div id="vegetable" class="row menu-page">

                </div>
            </div>
            <div id="dumplings-page" class="tabcontent">
                <div id="dumplings" class="row menu-page">

                </div>
            </div> -->

            

        </div>


        <div class="navbar-container cart-width">
            <div class="goback-content">
                <a href="/pos"><i class="bi bi-arrow-left-short"></i></a>
                <div>桌號<span id="table-number">0</span></div>
            </div>
            <div class="cart-content">
                <div class="cart-title">購物車</div>
                <div class="cart-list" id="cart-list">
                    <!-- 自動生成 -->
                </div>
                <div id="cart-btn-content">
                    <div class="cart-btn-group">
                        <div class="cart-btn" id="cart-send-btn">送出
                            <span class="cart-quantity">1</span>訂單
                        </div>
                        <div class="cart-reset-btn" id="cart-reset-btn" >
                            清空購物車
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 訂單畫面 -->
        <div class="order-page" id="order-page">
            <!-- <i id="close-order-btn" class="bi bi-x-lg"></i> -->
            <div class="order-title">訂單</div>
            <div class="order-list" id="order-list">
                <!-- 自動生成 -->
            </div>
            <div id="order-to-pay-content">
                <% if (order && order.id) { %>
                    <a href="/pos/confirmpayment/<%= order.id %>" id="order-to-pay">前往結帳<i class="bi bi-arrow-right-short"></i></a>
                <% } else { %>
                    <p>訂單信息不可用。</p>
                <% } %>
            </div>
        </div>
         
    </div>
    <!-- <script src="/assets/data/data.js"></script> -->
    <script>
        let foodsData = <%- JSON.stringify(foods) %>;
        let categoryData = <%- JSON.stringify(categories) %>;
        let order = <%- JSON.stringify(order) %>;
        let projectDataList = foodsData.map((food)=>{
            return {
                id: food.id,
                product: food.name,
                price: food.price,
                type: food.category_id,
                img: food.image_url
            }
        }) 
    </script>
    <script src="/js/order.js"></script>
    <script>
        // $.get("url", function(data) {

        // })
        // $.get("/menulist", function(data) {
            
        // })
    </script>
</body>
</html>